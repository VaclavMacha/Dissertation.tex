% ------------------------------------------------------------------------------
% Document settings
% ------------------------------------------------------------------------------
\documentclass{Thesis}
\usepackage[ddmmyyyy]{datetime}

\usepackage{xspace}
\usepackage{thmtools}
\usepackage{thm-restate}
\usepackage{enumitem}

\usepackage[title, titletoc]{appendix}

% ------------------------------------------------------------------------------
% Colors
% ------------------------------------------------------------------------------
\definecolor{myred}{RGB}{150,0,0}  
\definecolor{mygreen}{RGB}{0,150,0}
\definecolor{myblue}{RGB}{0, 101, 189}
\definecolor{myyellow}{RGB}{220, 206, 0}
\definecolor{myorange}{RGB}{255, 153, 51}

% ------------------------------------------------------------------------------
% Tables
% ------------------------------------------------------------------------------
\usepackage{multirow}
\usepackage{colortbl}

\newcommand{\best}{\cellcolor{mygreen!25}}
\newcommand{\besttotal}{\cellcolor{mygreen!50}}
\newcommand{\rotatecell}[1]{\rotatebox{90}{\begin{tabular}{@{}c@{}}#1\end{tabular}}}

% ------------------------------------------------------------------------------
% Math declarations
% ------------------------------------------------------------------------------
\newcommand{\Brac}[2][r]{%
  \ifx r#1 \left(       #2 \right)       \else
  \ifx c#1 \left\{      #2 \right\}      \else
  \ifx s#1 \left[       #2 \right]       \else
  \ifx v#1 \left\vert   #2 \right\vert   \else
  \ifx a#1 \left\langle #2 \right\rangle \else
  \ifx t#1 \left\lceil  #2 \right\rceil  \else
  \ifx b#1 \left\lfloor #2 \right\rfloor \else
  \ifx n#1 \left\|      #2 \right\|      \else
  \mathrm{Illegal~option}%
  \fi\fi\fi\fi\fi\fi\fi\fi
}

\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\yesmark}{\textcolor{mygreen}{\ding{51}}}%
\newcommand{\nomark}{\textcolor{myred}{\ding{55}}}
\newcommand{\good}[1]{\textcolor{mygreen}{#1}}
\newcommand{\bad}[1]{\textcolor{myred}{#1}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\K}{\mathbb{K}}
\newcommand{\X}{\mathbb{X}}
\newcommand{\Xc}{\mathcal{X}}

\newcommand{\norm}[1]{\Brac[n]{#1}}
\newcommand{\nrm}[1]{\Brac[n]{#1}}
\newcommand{\dd}[1]{\mathop{}\!\mathrm{d}#1}
\newcommand{\minimize}[1][]{\operatorname*{minimize}_{#1}}
\newcommand{\maximize}[1][]{\operatorname*{maximize}_{#1}}
\newcommand{\st}{\operatorname{subject\ to}}
\newcommand{\argmin}{\operatorname*{argmin}}
\newcommand{\eps}{{\varepsilon}}

\newcommand{\clip}[3]{\mathrm{clip}_{\Brac[s]{#1,\; #2}}\Brac{#3}}
\newcommand{\Matrix}[1]{\begin{pmatrix} #1 \end{pmatrix}}
\newcommand{\Set}[2]{\Brac[c]{#1 \; \middle\vert \; #2}}
\newcommand{\domain}{\operatorname*{dom}}

\newcommand{\precision}{\operatorname*{Precision}}
\newcommand{\recall}{\operatorname*{Recall}}
\newcommand{\pratrec}{\operatorname*{Precision@Recall}}

\newcommand{\repeatloop}{\texttt{repeat}\xspace}
\newcommand{\forloop}{\texttt{for}\xspace}

% models
\newcommand{\AccatTop}{\emph{Accuracy at the Top}\xspace}
\newcommand{\TopPush}{\emph{TopPush}\xspace}
\newcommand{\TopPushK}{\emph{TopPushK}\xspace}
\newcommand{\tauFPL}{{\emph{$\tau$-FPL}}\xspace}
\newcommand{\TopMeanK}{\emph{TopMeanK}\xspace}
\newcommand{\PatMat}{\emph{Pat}\&\emph{Mat}\xspace}
\newcommand{\PatMatNP}{{\emph{Pat}\&\emph{Mat-NP}}\xspace}
\newcommand{\Grill}{\emph{Grill}\xspace}
\newcommand{\GrillNP}{\emph{Grill-NP}\xspace}

% counts and rates
\newcommand{\tp}{\textnormal{tp}}
\newcommand{\tn}{\textnormal{tn}}
\newcommand{\fp}{\textnormal{fp}}
\newcommand{\fn}{\textnormal{fn}}
\newcommand{\tps}{\overline{\textnormal{tp}}}
\newcommand{\tns}{\overline{\textnormal{tn}}}
\newcommand{\fps}{\overline{\textnormal{fp}}}
\newcommand{\fns}{\overline{\textnormal{fn}}}

% ------------------------------------------------------------------------------
% Tikz
% ------------------------------------------------------------------------------
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}

\usetikzlibrary{shapes,arrows,positioning,calc} 
\pgfplotsset{compat=newest}
\usepgfplotslibrary{groupplots}

\tikzstyle{bubbleA} = [rectangle, rounded corners, minimum width=2cm, minimum height=1cm,text centered, draw=black, fill=mygreen!70]
\tikzstyle{bubbleB} = [bubbleA, fill=gray!40]
\tikzstyle{bubbleC} = [bubbleA, fill=white]
\tikzstyle{arrowA} = [thick,->,>=stealth]
\tikzstyle{arrowB} = [thick,dotted,->,>=stealth]

\pgfplotsset{
    LinePatMatNP/.style={mygreen, very thick},
    LineTopPush/.style={myred, very thick, dashed},
    LinePatMat/.style={myblue, very thick, dotted},
    LinetauFPL/.style={myorange, very thick, dashdotted},
    lineneg/.style      = {smooth, cyan, very thick, dashed},
    fillneg/.style      = {draw=none, fill = cyan, fill opacity = 0.15},
    linepos/.style      = {smooth, myred, very thick},
    fillpos/.style      = {draw=none, fill = myred, fill opacity = 0.15},
    linetau/.style      = {black, very thick, dash dot},
    linepatmat/.style   = {smooth, myred, very thick},
    linetoppush/.style  = {smooth, cyan, very thick, dashed},
    linetoppushk/.style = {smooth, black, very thick, dotted},
    lineprimal/.style   = {smooth, myred, very thick},
    linedual/.style     = {cyan, very thick, dashed},
    legstyle/.style     = {column sep = 10pt, legend columns = -1}
}
\pgfplotstableread[col sep = comma]{data/CIFAR100.csv}\DataCIFAR
\pgfplotstableread[col sep = comma]{data/HEPMASS.csv}\DataHEPMASS
\pgfplotstableread[col sep = comma]{data/Scores_Linear_TopPush.csv}\ScoresLinearTopPush
\pgfplotstableread[col sep = comma]{data/Scores_Gauss_TopPush.csv}\ScoresGaussTopPush
\pgfplotstableread[col sep = comma]{data/Scores_Linear_TopPushK.csv}\ScoresLinearTopPushK
\pgfplotstableread[col sep = comma]{data/Scores_Gauss_TopPushK.csv}\ScoresGaussTopPushK
\pgfplotstableread[col sep = comma]{data/Scores_Linear_PatMat.csv}\ScoresLinearPatMat
\pgfplotstableread[col sep = comma]{data/Scores_Gauss_PatMat.csv}\ScoresGaussPatMat
\pgfplotstableread[col sep = comma]{data/PR_Linear.csv}\PRLinear
\pgfplotstableread[col sep = comma]{data/PR_Gauss.csv}\PRGauss
\pgfplotstableread[col sep = comma]{data/Convergence_TopPush.csv}\ConvergenceTopPush
\pgfplotstableread[col sep = comma]{data/Convergence_TopPushK.csv}\ConvergenceTopPushK
\pgfplotstableread[col sep = comma]{data/Convergence_PatMat.csv}\ConvergencePatMat

% ------------------------------------------------------------------------------
% Affiliation
% ------------------------------------------------------------------------------
\title{General Framework for Classicifcation at the Top}
\subtitle{Dissertation}

\author{Ing. Václav Mácha}
\branch{Matematické inženýrství}
\academicyear{2021/2022}
\date{1. prosince 2021}
\supervisor{doc. Ing Václav Šmídl, Ph.D.}
\supervisorspec{Mgr. Lukáš Adam, Ph.D.}

\acknowledgment{Thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks thanks}

\titleCZE{Title title title title title title}
\thesistype{Disertační práce}
\abstractCZE{Abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract}
\keywordsCZE{Keywords keywords keywords keywords keywords keywords keywords keywords keywords keywords keywords keywords keywords}

\titleENG{Title title title title title title}
\abstractENG{Abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract abstract}
\keywordsENG{Keywords keywords keywords keywords keywords keywords keywords keywords keywords keywords keywords keywords keywords}

% ------------------------------------------------------------------------------
% Document
% ------------------------------------------------------------------------------
\begin{document}

\maketitle

\input{chapters/primal.tex}
\input{chapters/dual.tex}

% ------------------------------------------------------------------------------
% Appendix
% ------------------------------------------------------------------------------
\part*{Apendices}
\appendix

\input{chapters/primal_appendix.tex}
\input{chapters/dual_appendix.tex}


% ------------------------------------------------------------------------------
% Bibliography
% ------------------------------------------------------------------------------
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{references.bib}
\bibliographystyle{unsrt}

\end{document}